-- @testpoint: hll_add_agg(hll_hashval, int32 log2m),把哈希后的数据按照分组放到hll中。 并指定参数log2m，取值范围是10到16
create table t_id(id int);
SQL SUCCESS
insert into t_id values(generate_series(1,10));
SQL SUCCESS
select  hll_add_agg(hll_hash_text(id), 10) from t_id ;
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| hll_add_agg                                                                                                                                                                                                                |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| \x484c4c50000002002b08000000000000002440562207b7639d9cbdb9e9eea221d6e41c935482ae6bdba53a612603da299b80426dc2cfc61bed5156912708defd4191631369b4198fffa69b1aec8ad360e512a2a5bf62a0b65e6bab562207b7639d9cbde790965c97d5dcbe00 |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
drop table t_id;
SQL SUCCESS
select hll_add_agg(hll_hash_boolean(true), 10);
+----------------------------------------------------------------------------+
| hll_add_agg                                                                |
+----------------------------------------------------------------------------+
| \x484c4c08000002002b0800000000000000f03f83933dd2475001f183933dd2475001f100 |
+----------------------------------------------------------------------------+
select hll_add_agg (hll_hash_smallint(32767, 0), 16);
+----------------------------------------------------------------------------+
| hll_add_agg                                                                |
+----------------------------------------------------------------------------+
| \x484c4c0800000200ab0900000000000000f03fe814afa9cc0b7e7de814afa9cc0b7e7d00 |
+----------------------------------------------------------------------------+
select hll_add_agg (hll_hash_smallint(32767, 0), null);
+----------------------------------------------------------------------------+
| hll_add_agg                                                                |
+----------------------------------------------------------------------------+
| \x484c4c08000002002b0900000000000000f03fe814afa9cc0b7e7de814afa9cc0b7e7d00 |
+----------------------------------------------------------------------------+
